diff --git a/node_modules/ansicolor/ansicolor.js b/node_modules/ansicolor/ansicolor.js
index c0cb4f5..3cb1e81 100644
--- a/node_modules/ansicolor/ansicolor.js
+++ b/node_modules/ansicolor/ansicolor.js
@@ -251,9 +251,10 @@ class Colors {
     /**
      * @param {string} s a string containing ANSI escape codes.
      */
-    constructor (s) {
+    constructor (s, previousSpan) {
 
         this.spans = s ? rawParse (s) : []
+        this.previousSpan = previousSpan
     }
 
     get str () {
@@ -272,7 +273,32 @@ class Colors {
             styles     = new Set ()
         }
 
-        reset ()
+        if(this.previousSpan && !this.previousSpan.reset) {
+
+            if(this.previousSpan.color) {
+                let brightness = undefined;
+                if(this.previousSpan.color.bright) brightness = Code.bright;
+                else if(this.previousSpan.color.dim) brightness = Code.dim;
+                color = new Color(false, this.previousSpan.color.name, brightness);
+            }
+            else color = new Color();
+
+            if(this.previousSpan.bgColor) {
+                let brightness = undefined;
+                if(this.previousSpan.bgColor.bright) brightness = Code.bright;
+                else if(this.previousSpan.bgColor.dim) brightness = Code.dim;
+                bgColor = new Color(true, this.previousSpan.bgColor.name, brightness);
+            }
+            else bgColor = new Color(true);
+
+            if(this.previousSpan.bold) brightness = Code.bright;
+
+            styles = new Set();
+            if(this.previousSpan.italic) styles.add('italic');
+            if(this.previousSpan.underline) styles.add('underline');
+            if(this.previousSpan.inverted) styles.add('inverse');
+        }
+        else reset();
 
         return O.assign (new Colors (), {
 
@@ -289,7 +315,7 @@ class Colors {
 
                 const styledSpan = O.assign (
                                         { css: bold + italic + underline + foreColor.css (inverted) + bgColor.css (inverted) },
-                                        clean ({ bold: !!bold, color: foreColor.clean, bgColor: bgColor.clean }),
+                                        clean ({ bold: !!bold, color: foreColor.clean, bgColor: bgColor.clean, inverted }),
                                         span)
 
                 for (const k of styles) { styledSpan[k] = true }
@@ -302,6 +328,7 @@ class Colors {
 
                     if (span.code.value === Code.reset) {
                         reset ()
+                        styledSpan.reset = true;
 
                     } else {
 
@@ -321,7 +348,7 @@ class Colors {
 
                 return styledSpan
 
-            }).filter (s => s.text.length > 0)
+            }).filter (s => s.text.length > 0 || s.reset)
         })
     }
 
@@ -358,8 +385,8 @@ class Colors {
      * @desc parses a string containing ANSI escape codes
      * @return {Colors} parsed representation.
      */
-    static parse (s) {
-        return new Colors (s).parsed
+    static parse (s, previousSpan) {
+        return new Colors (s, previousSpan).parsed
     }
 
     /**
diff --git a/node_modules/ansicolor/build/ansicolor.js b/node_modules/ansicolor/build/ansicolor.js
index a64b5c8..f309bd7 100644
--- a/node_modules/ansicolor/build/ansicolor.js
+++ b/node_modules/ansicolor/build/ansicolor.js
@@ -326,10 +326,11 @@ var Colors = function () {
     /**
      * @param {string} s a string containing ANSI escape codes.
      */
-    function Colors(s) {
+    function Colors(s, previousSpan) {
         _classCallCheck(this, Colors);
 
         this.spans = s ? rawParse(s) : [];
+        this.previousSpan = previousSpan;
     }
 
     _createClass(Colors, [{
@@ -371,7 +372,27 @@ var Colors = function () {
                 color = new Color(), bgColor = new Color(true /* background */), brightness = undefined, styles = new Set();
             }
 
-            reset();
+            if (this.previousSpan && !this.previousSpan.reset) {
+
+                if (this.previousSpan.color) {
+                    var _brightness = undefined;
+                    if (this.previousSpan.color.bright) _brightness = Code.bright;else if (this.previousSpan.color.dim) _brightness = Code.dim;
+                    color = new Color(false, this.previousSpan.color.name, _brightness);
+                } else color = new Color();
+
+                if (this.previousSpan.bgColor) {
+                    var _brightness2 = undefined;
+                    if (this.previousSpan.bgColor.bright) _brightness2 = Code.bright;else if (this.previousSpan.bgColor.dim) _brightness2 = Code.dim;
+                    bgColor = new Color(true, this.previousSpan.bgColor.name, _brightness2);
+                } else bgColor = new Color(true);
+
+                if (this.previousSpan.bold) brightness = Code.bright;
+
+                styles = new Set();
+                if (this.previousSpan.italic) styles.add('italic');
+                if (this.previousSpan.underline) styles.add('underline');
+                if (this.previousSpan.inverted) styles.add('inverse');
+            } else reset();
 
             return O.assign(new Colors(), {
 
@@ -386,7 +407,7 @@ var Colors = function () {
 
                     var foreColor = color.defaultBrightness(brightness);
 
-                    var styledSpan = O.assign({ css: bold + italic + underline + foreColor.css(inverted) + bgColor.css(inverted) }, clean({ bold: !!bold, color: foreColor.clean, bgColor: bgColor.clean }), span);
+                    var styledSpan = O.assign({ css: bold + italic + underline + foreColor.css(inverted) + bgColor.css(inverted) }, clean({ bold: !!bold, color: foreColor.clean, bgColor: bgColor.clean, inverted: inverted }), span);
 
                     var _iteratorNormalCompletion2 = true;
                     var _didIteratorError2 = false;
@@ -419,6 +440,7 @@ var Colors = function () {
 
                         if (span.code.value === Code.reset) {
                             reset();
+                            styledSpan.reset = true;
                         } else {
 
                             switch (span.code.type) {
@@ -441,7 +463,7 @@ var Colors = function () {
 
                     return styledSpan;
                 }).filter(function (s) {
-                    return s.text.length > 0;
+                    return s.text.length > 0 || s.reset;
                 })
             });
         }
@@ -481,8 +503,8 @@ var Colors = function () {
          * @desc parses a string containing ANSI escape codes
          * @return {Colors} parsed representation.
          */
-        value: function parse(s) {
-            return new Colors(s).parsed;
+        value: function parse(s, previousSpan) {
+            return new Colors(s, previousSpan).parsed;
         }
 
         /**
@@ -581,4 +603,4 @@ Colors.rgb = {
 
 /*  ------------------------------------------------------------------------ */
 
-//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBWSxFQUFaLENBWEw7O0FBYVQsWUFBYyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQWEsQ0FBYixDQWJMO0FBY1QsaUJBQWMsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFZLEVBQVosQ0FkTDs7QUFnQlQsVUFBYyxDQUFDLENBQUQsRUFBUSxDQUFSLEVBQVcsR0FBWCxDQWhCTDtBQWlCVCxlQUFjLENBQUMsRUFBRCxFQUFNLEdBQU4sRUFBVyxHQUFYLENBakJMOztBQW1CVCxhQUFjLENBQUMsR0FBRCxFQUFRLENBQVIsRUFBVyxHQUFYLENBbkJMO0FBb0JULGtCQUFjLENBQUMsR0FBRCxFQUFRLENBQVIsRUFBVyxHQUFYLENBcEJMOztBQXNCVCxVQUFjLENBQUMsQ0FBRCxFQUFNLEdBQU4sRUFBVyxHQUFYLENBdEJMO0FBdUJULGVBQWMsQ0FBQyxDQUFELEVBQU0sR0FBTixFQUFXLEdBQVg7O0FBR2xCOztBQTFCYSxDQUFiLENBNEJBLE9BQU8sT0FBUCxHQUFpQixNQUFqQjs7QUFFQSIsImZpbGUiOiJhbnNpY29sb3IuanMiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBPID0gT2JqZWN0XG5cbi8qICBTZWUgaHR0cHM6Ly9taXNjLmZsb2dpc29mdC5jb20vYmFzaC90aXBfY29sb3JzX2FuZF9mb3JtYXR0aW5nXG4gICAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IGNvbG9yQ29kZXMgICAgICA9IFsgICAnYmxhY2snLCAgICAgICdyZWQnLCAgICAgICdncmVlbicsICAgICAgJ3llbGxvdycsICAgICAgJ2JsdWUnLCAgICAgICdtYWdlbnRhJywgICAgICAnY3lhbicsICdsaWdodEdyYXknLCAnJywgJ2RlZmF1bHQnXVxuICAgICwgY29sb3JDb2Rlc0xpZ2h0ID0gWydkYXJrR3JheScsICdsaWdodFJlZCcsICdsaWdodEdyZWVuJywgJ2xpZ2h0WWVsbG93JywgJ2xpZ2h0Qmx1ZScsICdsaWdodE1hZ2VudGEnLCAnbGlnaHRDeWFuJywgJ3doaXRlJywgJyddXG4gICAgXG4gICAgLCBzdHlsZUNvZGVzID0gWycnLCAnYnJpZ2h0JywgJ2RpbScsICdpdGFsaWMnLCAndW5kZXJsaW5lJywgJycsICcnLCAnaW52ZXJzZSddXG5cbiAgICAsIGFzQnJpZ2h0ID0geyAncmVkJzogICAgICAgJ2xpZ2h0UmVkJyxcbiAgICAgICAgICAgICAgICAgICAnZ3JlZW4nOiAgICAgJ2xpZ2h0R3JlZW4nLFxuICAgICAgICAgICAgICAgICAgICd5ZWxsb3cnOiAgICAnbGlnaHRZZWxsb3cnLFxuICAgICAgICAgICAgICAgICAgICdibHVlJzogICAgICAnbGlnaHRCbHVlJyxcbiAgICAgICAgICAgICAgICAgICAnbWFnZW50YSc6ICAgJ2xpZ2h0TWFnZW50YScsXG4gICAgICAgICAgICAgICAgICAgJ2N5YW4nOiAgICAgICdsaWdodEN5YW4nLFxuICAgICAgICAgICAgICAgICAgICdibGFjayc6ICAgICAnZGFya0dyYXknLFxuICAgICAgICAgICAgICAgICAgICdsaWdodEdyYXknOiAnd2hpdGUnIH1cbiAgICBcbiAgICAsIHR5cGVzID0geyAwOiAgJ3N0eWxlJyxcbiAgICAgICAgICAgICAgICAyOiAgJ3Vuc3R5bGUnLFxuICAgICAgICAgICAgICAgIDM6ICAnY29sb3InLFxuICAgICAgICAgICAgICAgIDk6ICAnY29sb3JMaWdodCcsXG4gICAgICAgICAgICAgICAgNDogICdiZ0NvbG9yJyxcbiAgICAgICAgICAgICAgICAxMDogJ2JnQ29sb3JMaWdodCcgfVxuXG4gICAgLCBzdWJ0eXBlcyA9IHsgIGNvbG9yOiAgICAgICAgIGNvbG9yQ29kZXMsXG4gICAgICAgICAgICAgICAgICAgIGNvbG9yTGlnaHQ6ICAgIGNvbG9yQ29kZXNMaWdodCxcbiAgICAgICAgICAgICAgICAgICAgYmdDb2xvcjogICAgICAgY29sb3JDb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgYmdDb2xvckxpZ2h0OiAgY29sb3JDb2Rlc0xpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBzdHlsZTogICAgICAgICBzdHlsZUNvZGVzLFxuICAgICAgICAgICAgICAgICAgICB1bnN0eWxlOiAgICAgICBzdHlsZUNvZGVzICAgIH1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBjbGVhbiA9IG9iaiA9PiB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrIGluIG9iaikgeyBpZiAoIW9ialtrXSkgeyBkZWxldGUgb2JqW2tdIH0gfVxuICAgICAgICAgICAgICAgIHJldHVybiAoTy5rZXlzIChvYmopLmxlbmd0aCA9PT0gMCkgPyB1bmRlZmluZWQgOiBvYmpcbiAgICAgICAgICAgIH1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jbGFzcyBDb2xvciB7XG5cbiAgICBjb25zdHJ1Y3RvciAoYmFja2dyb3VuZCwgbmFtZSwgYnJpZ2h0bmVzcykge1xuXG4gICAgICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmRcbiAgICAgICAgdGhpcy5uYW1lICAgICAgID0gbmFtZVxuICAgICAgICB0aGlzLmJyaWdodG5lc3MgPSBicmlnaHRuZXNzXG4gICAgfVxuXG4gICAgZ2V0IGludmVyc2UgKCkge1xuICAgICAgICByZXR1cm4gbmV3IENvbG9yICghdGhpcy5iYWNrZ3JvdW5kLCB0aGlzLm5hbWUgfHwgKHRoaXMuYmFja2dyb3VuZCA/ICdibGFjaycgOiAnd2hpdGUnKSwgdGhpcy5icmlnaHRuZXNzKVxuICAgIH1cblxuICAgIGdldCBjbGVhbiAoKSB7XG4gICAgICAgIHJldHVybiBjbGVhbiAoeyBuYW1lOiAgIHRoaXMubmFtZSA9PT0gJ2RlZmF1bHQnID8gJycgOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBicmlnaHQ6IHRoaXMuYnJpZ2h0bmVzcyA9PT0gQ29kZS5icmlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBkaW06ICAgIHRoaXMuYnJpZ2h0bmVzcyA9PT0gQ29kZS5kaW0gfSlcbiAgICB9XG5cbiAgICBkZWZhdWx0QnJpZ2h0bmVzcyAodmFsdWUpIHtcblxuICAgICAgICByZXR1cm4gbmV3IENvbG9yICh0aGlzLmJhY2tncm91bmQsIHRoaXMubmFtZSwgdGhpcy5icmlnaHRuZXNzIHx8IHZhbHVlKVxuICAgIH1cblxuICAgIGNzcyAoaW52ZXJ0ZWQpIHtcblxuICAgICAgICBjb25zdCBjb2xvciA9IGludmVydGVkID8gdGhpcy5pbnZlcnNlIDogdGhpc1xuXG4gICAgICAgIGNvbnN0IHJnYk5hbWUgPSAoKGNvbG9yLmJyaWdodG5lc3MgPT09IENvZGUuYnJpZ2h0KSAmJiBhc0JyaWdodFtjb2xvci5uYW1lXSkgfHwgY29sb3IubmFtZVxuXG4gICAgICAgIGNvbnN0IHByb3AgPSAoY29sb3IuYmFja2dyb3VuZCA/ICdiYWNrZ3JvdW5kOicgOiAnY29sb3I6JylcbiAgICAgICAgICAgICwgcmdiICA9IENvbG9ycy5yZ2JbcmdiTmFtZV1cbiAgICAgICAgICAgICwgYWxwaGEgPSAodGhpcy5icmlnaHRuZXNzID09PSBDb2RlLmRpbSkgPyAwLjUgOiAxXG5cbiAgICAgICAgcmV0dXJuIHJnYlxuICAgICAgICAgICAgICAgID8gKHByb3AgKyAncmdiYSgnICsgWy4uLnJnYiwgYWxwaGFdLmpvaW4gKCcsJykgKyAnKTsnKVxuICAgICAgICAgICAgICAgIDogKCghY29sb3IuYmFja2dyb3VuZCAmJiAoYWxwaGEgPCAxKSkgPyAnY29sb3I6cmdiYSgwLDAsMCwwLjUpOycgOiAnJykgLy8gQ2hyb21lIGRvZXMgbm90IHN1cHBvcnQgJ29wYWNpdHknIHByb3BlcnR5Li4uXG4gICAgfVxufVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNsYXNzIENvZGUge1xuXG4gICAgY29uc3RydWN0b3IgKG4pIHtcbiAgICAgICAgaWYgKG4gIT09IHVuZGVmaW5lZCkgeyB0aGlzLnZhbHVlID0gTnVtYmVyIChuKSB9IH1cblxuICAgIGdldCB0eXBlICgpIHtcbiAgICAgICByZXR1cm4gdHlwZXNbTWF0aC5mbG9vciAodGhpcy52YWx1ZSAvIDEwKV0gfVxuXG4gICAgZ2V0IHN1YnR5cGUgKCkge1xuICAgICAgICByZXR1cm4gc3VidHlwZXNbdGhpcy50eXBlXVt0aGlzLnZhbHVlICUgMTBdIH1cblxuICAgIGdldCBzdHIgKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMudmFsdWUgPyAoJ1xcdTAwMWJcXFsnICsgdGhpcy52YWx1ZSArICdtJykgOiAnJykgfVxuXG4gICAgc3RhdGljIHN0ciAoeCkge1xuICAgICAgICByZXR1cm4gbmV3IENvZGUgKHgpLnN0ciB9XG5cbiAgICBnZXQgaXNCcmlnaHRuZXNzICgpIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnZhbHVlID09PSBDb2RlLm5vQnJpZ2h0bmVzcykgfHwgKHRoaXMudmFsdWUgPT09IENvZGUuYnJpZ2h0KSB8fCAodGhpcy52YWx1ZSA9PT0gQ29kZS5kaW0pIH1cbn1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5PLmFzc2lnbiAoQ29kZSwge1xuXG4gICAgcmVzZXQ6ICAgICAgICAwLFxuICAgIGJyaWdodDogICAgICAgMSxcbiAgICBkaW06ICAgICAgICAgIDIsXG4gICAgaW52ZXJzZTogICAgICA3LFxuICAgIG5vQnJpZ2h0bmVzczogMjIsXG4gICAgbm9JdGFsaWM6ICAgICAyMyxcbiAgICBub1VuZGVybGluZTogIDI0LFxuICAgIG5vSW52ZXJzZTogICAgMjcsXG4gICAgbm9Db2xvcjogICAgICAzOSxcbiAgICBub0JnQ29sb3I6ICAgIDQ5XG59KVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IHJlcGxhY2VBbGwgPSAoc3RyLCBhLCBiKSA9PiBzdHIuc3BsaXQgKGEpLmpvaW4gKGIpXG5cbi8qICBBTlNJIGJyaWdodG5lc3MgY29kZXMgZG8gbm90IG92ZXJsYXAsIGUuZy4gXCJ7YnJpZ2h0fXtkaW19Zm9vXCIgd2lsbCBiZSByZW5kZXJlZCBicmlnaHQgKG5vdCBkaW0pLlxuICAgIFNvIHdlIGZpeCBpdCBieSBhZGRpbmcgYnJpZ2h0bmVzcyBjYW5jZWxpbmcgYmVmb3JlIGVhY2ggYnJpZ2h0bmVzcyBjb2RlLCBzbyB0aGUgZm9ybWVyIGV4YW1wbGUgZ2V0c1xuICAgIGNvbnZlcnRlZCB0byBcIntub0JyaWdodG5lc3N9e2JyaWdodH17bm9CcmlnaHRuZXNzfXtkaW19Zm9vXCIg4oCTIHRoaXMgd2F5IGl0IGdldHMgcmVuZGVyZWQgYXMgZXhwZWN0ZWQuXG4gKi9cblxuY29uc3QgZGVub3JtYWxpemVCcmlnaHRuZXNzID0gcyA9PiBzLnJlcGxhY2UgKC8oXFx1MDAxYlxcWygxfDIpbSkvZywgJ1xcdTAwMWJbMjJtJDEnKVxuY29uc3Qgbm9ybWFsaXplQnJpZ2h0bmVzcyA9IHMgPT4gcy5yZXBsYWNlICgvXFx1MDAxYlxcWzIybShcXHUwMDFiXFxbKDF8MiltKS9nLCAnJDEnKVxuXG5jb25zdCB3cmFwID0gKHgsIG9wZW5Db2RlLCBjbG9zZUNvZGUpID0+IHtcblxuICAgIGNvbnN0IG9wZW4gID0gQ29kZS5zdHIgKG9wZW5Db2RlKSxcbiAgICAgICAgICBjbG9zZSA9IENvZGUuc3RyIChjbG9zZUNvZGUpXG5cbiAgICByZXR1cm4gU3RyaW5nICh4KVxuICAgICAgICAgICAgICAgIC5zcGxpdCAoJ1xcbicpXG4gICAgICAgICAgICAgICAgLm1hcCAobGluZSA9PiBkZW5vcm1hbGl6ZUJyaWdodG5lc3MgKG9wZW4gKyByZXBsYWNlQWxsIChub3JtYWxpemVCcmlnaHRuZXNzIChsaW5lKSwgY2xvc2UsIG9wZW4pICsgY2xvc2UpKVxuICAgICAgICAgICAgICAgIC5qb2luICgnXFxuJylcbn1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBjYW1lbCA9IChhLCBiKSA9PiBhICsgYi5jaGFyQXQgKDApLnRvVXBwZXJDYXNlICgpICsgYi5zbGljZSAoMSlcblxuXG5jb25zdCBzdHJpbmdXcmFwcGluZ01ldGhvZHMgPSAoKCkgPT4gW1xuXG4gICAgICAgIC4uLmNvbG9yQ29kZXMubWFwICgoaywgaSkgPT4gIWsgPyBbXSA6IFsgLy8gY29sb3IgbWV0aG9kc1xuXG4gICAgICAgICAgICBbaywgICAgICAgICAgICAgICAzMCArIGksIENvZGUubm9Db2xvcl0sXG4gICAgICAgICAgICBbY2FtZWwgKCdiZycsIGspLCA0MCArIGksIENvZGUubm9CZ0NvbG9yXSxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLi4uY29sb3JDb2Rlc0xpZ2h0Lm1hcCAoKGssIGkpID0+ICFrID8gW10gOiBbIC8vIGxpZ2h0IGNvbG9yIG1ldGhvZHNcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgW2ssICAgICAgICAgICAgICAgIDkwICsgaSwgQ29kZS5ub0NvbG9yXSxcbiAgICAgICAgICAgIFtjYW1lbCAoJ2JnJywgayksIDEwMCArIGksIENvZGUubm9CZ0NvbG9yXSxcbiAgICAgICAgXSksXG5cbiAgICAgICAgLyogVEhJUyBPTkUgSVMgRk9SIEJBQ0tXQVJEUyBDT01QQVRJQklMSVRZIFdJVEggUFJFVklPVVMgVkVSU0lPTlMgKGhhZCAnYnJpZ2h0JyBpbnN0ZWFkIG9mICdsaWdodCcgZm9yIGJhY2tncm91bmRzKVxuICAgICAgICAgKi9cbiAgICAgICAgLi4uWycnLCAnQnJpZ2h0UmVkJywgJ0JyaWdodEdyZWVuJywgJ0JyaWdodFllbGxvdycsICdCcmlnaHRCbHVlJywgJ0JyaWdodE1hZ2VudGEnLCAnQnJpZ2h0Q3lhbiddLm1hcCAoKGssIGkpID0+ICFrID8gW10gOiBbXG4gICAgICAgICAgICBcbiAgICAgICAgICAgIFsnYmcnICsgaywgMTAwICsgaSwgQ29kZS5ub0JnQ29sb3JdLFxuICAgICAgICBdKSxcbiAgICAgICAgXG4gICAgICAgIC4uLnN0eWxlQ29kZXMubWFwICgoaywgaSkgPT4gIWsgPyBbXSA6IFsgLy8gc3R5bGUgbWV0aG9kc1xuXG4gICAgICAgICAgICBbaywgaSwgKChrID09PSAnYnJpZ2h0JykgfHwgKGsgPT09ICdkaW0nKSkgPyBDb2RlLm5vQnJpZ2h0bmVzcyA6ICgyMCArIGkpXVxuICAgICAgICBdKVxuICAgIF1cbiAgICAucmVkdWNlICgoYSwgYikgPT4gYS5jb25jYXQgKGIpKVxuICAgIFxuKSAoKTtcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBhc3NpZ25TdHJpbmdXcmFwcGluZ0FQSSA9ICh0YXJnZXQsIHdyYXBCZWZvcmUgPSB0YXJnZXQpID0+XG5cbiAgICBzdHJpbmdXcmFwcGluZ01ldGhvZHMucmVkdWNlICgobWVtbywgW2ssIG9wZW4sIGNsb3NlXSkgPT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPLmRlZmluZVByb3BlcnR5IChtZW1vLCBrLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldDogKCkgPT4gYXNzaWduU3RyaW5nV3JhcHBpbmdBUEkgKHN0ciA9PiB3cmFwQmVmb3JlICh3cmFwIChzdHIsIG9wZW4sIGNsb3NlKSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQpXG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgVEVYVCAgICA9IDAsXG4gICAgICBCUkFDS0VUID0gMSxcbiAgICAgIENPREUgICAgPSAyXG5cbmZ1bmN0aW9uIHJhd1BhcnNlIChzKSB7XG4gICAgXG4gICAgbGV0IHN0YXRlID0gVEVYVCwgYnVmZmVyID0gJycsIHRleHQgPSAnJywgY29kZSA9ICcnLCBjb2RlcyA9IFtdXG4gICAgbGV0IHNwYW5zID0gW11cblxuICAgIGZvciAobGV0IGkgPSAwLCBuID0gcy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcblxuICAgICAgICBjb25zdCBjID0gc1tpXVxuXG4gICAgICAgIGJ1ZmZlciArPSBjXG5cbiAgICAgICAgc3dpdGNoIChzdGF0ZSkge1xuXG4gICAgICAgICAgICBjYXNlIFRFWFQ6XG4gICAgICAgICAgICAgICAgaWYgKGMgPT09ICdcXHUwMDFiJykgeyBzdGF0ZSA9IEJSQUNLRVQ7IGJ1ZmZlciA9IGM7IH1cbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICAgICAgIHsgdGV4dCArPSBjIH1cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIEJSQUNLRVQ6XG4gICAgICAgICAgICAgICAgaWYgKGMgPT09ICdbJykgeyBzdGF0ZSA9IENPREU7IGNvZGUgPSAnJzsgY29kZXMgPSBbXSB9XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgeyBzdGF0ZSA9IFRFWFQ7IHRleHQgKz0gYnVmZmVyIH1cbiAgICAgICAgICAgICAgICBicmVha1xuXG4gICAgICAgICAgICBjYXNlIENPREU6XG5cbiAgICAgICAgICAgICAgICBpZiAoKGMgPj0gJzAnKSAmJiAoYyA8PSAnOScpKSB7IGNvZGUgKz0gYyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoYyA9PT0gJzsnKSAgICAgICAgICAgeyBjb2Rlcy5wdXNoIChuZXcgQ29kZSAoY29kZSkpOyBjb2RlID0gJycgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChjID09PSAnbScpKSAgICAgICAgIHsgY29kZSA9IGNvZGUgfHwgJzAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2Rlcy5wdXNoIChuZXcgQ29kZSAoY29kZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvZGUgb2YgY29kZXMpIHsgc3BhbnMucHVzaCAoeyB0ZXh0LCBjb2RlIH0pOyB0ZXh0ID0gJycgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUgPSBURVhUXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgICAgICAgICAgIHsgc3RhdGUgPSBURVhUOyB0ZXh0ICs9IGJ1ZmZlciB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhdGUgIT09IFRFWFQpIHRleHQgKz0gYnVmZmVyXG5cbiAgICBpZiAodGV4dCkgc3BhbnMucHVzaCAoeyB0ZXh0LCBjb2RlOiBuZXcgQ29kZSAoKSB9KVxuXG4gICAgcmV0dXJuIHNwYW5zXG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuLyoqXG4gKiBSZXByZXNlbnRzIGFuIEFOU0ktZXNjYXBlZCBzdHJpbmcuXG4gKi9cbmNsYXNzIENvbG9ycyB7XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcyBhIHN0cmluZyBjb250YWluaW5nIEFOU0kgZXNjYXBlIGNvZGVzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yIChzKSB7XG5cbiAgICAgICAgdGhpcy5zcGFucyA9IHMgPyByYXdQYXJzZSAocykgOiBbXVxuICAgIH1cblxuICAgIGdldCBzdHIgKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcGFucy5yZWR1Y2UgKChzdHIsIHApID0+IHN0ciArIHAudGV4dCArIHAuY29kZS5zdHIsICcnKVxuICAgIH1cblxuICAgIGdldCBwYXJzZWQgKCkge1xuXG4gICAgICAgIGxldCBjb2xvciwgYmdDb2xvciwgYnJpZ2h0bmVzcywgc3R5bGVzXG5cbiAgICAgICAgZnVuY3Rpb24gcmVzZXQgKCkge1xuXG4gICAgICAgICAgICBjb2xvciAgICAgID0gbmV3IENvbG9yICgpLFxuICAgICAgICAgICAgYmdDb2xvciAgICA9IG5ldyBDb2xvciAodHJ1ZSAvKiBiYWNrZ3JvdW5kICovKSxcbiAgICAgICAgICAgIGJyaWdodG5lc3MgPSB1bmRlZmluZWQsXG4gICAgICAgICAgICBzdHlsZXMgICAgID0gbmV3IFNldCAoKVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzZXQgKClcblxuICAgICAgICByZXR1cm4gTy5hc3NpZ24gKG5ldyBDb2xvcnMgKCksIHtcblxuICAgICAgICAgICAgc3BhbnM6IHRoaXMuc3BhbnMubWFwIChzcGFuID0+IHtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGMgPSBzcGFuLmNvZGVcblxuICAgICAgICAgICAgICAgIGNvbnN0IGludmVydGVkICA9IHN0eWxlcy5oYXMgKCdpbnZlcnNlJyksXG4gICAgICAgICAgICAgICAgICAgICAgdW5kZXJsaW5lID0gc3R5bGVzLmhhcyAoJ3VuZGVybGluZScpICAgPyAndGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7JyA6ICcnLCAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICBpdGFsaWMgICAgPSBzdHlsZXMuaGFzICgnaXRhbGljJykgICAgICA/ICdmb250LXN0eWxlOiBpdGFsaWM7JyA6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgIGJvbGQgICAgICA9IGJyaWdodG5lc3MgPT09IENvZGUuYnJpZ2h0ID8gJ2ZvbnQtd2VpZ2h0OiBib2xkOycgOiAnJ1xuXG4gICAgICAgICAgICAgICAgY29uc3QgZm9yZUNvbG9yID0gY29sb3IuZGVmYXVsdEJyaWdodG5lc3MgKGJyaWdodG5lc3MpXG5cbiAgICAgICAgICAgICAgICBjb25zdCBzdHlsZWRTcGFuID0gTy5hc3NpZ24gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHsgY3NzOiBib2xkICsgaXRhbGljICsgdW5kZXJsaW5lICsgZm9yZUNvbG9yLmNzcyAoaW52ZXJ0ZWQpICsgYmdDb2xvci5jc3MgKGludmVydGVkKSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFuICh7IGJvbGQ6ICEhYm9sZCwgY29sb3I6IGZvcmVDb2xvci5jbGVhbiwgYmdDb2xvcjogYmdDb2xvci5jbGVhbiB9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcGFuKVxuXG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrIG9mIHN0eWxlcykgeyBzdHlsZWRTcGFuW2tdID0gdHJ1ZSB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYy5pc0JyaWdodG5lc3MpIHtcblxuICAgICAgICAgICAgICAgICAgICBicmlnaHRuZXNzID0gYy52YWx1ZVxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc3Bhbi5jb2RlLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc3Bhbi5jb2RlLnZhbHVlID09PSBDb2RlLnJlc2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXNldCAoKVxuXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoc3Bhbi5jb2RlLnR5cGUpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yJyAgICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbG9yTGlnaHQnICAgOiBjb2xvciAgID0gbmV3IENvbG9yIChmYWxzZSwgYy5zdWJ0eXBlKTsgYnJlYWtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JnQ29sb3InICAgICAgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2JnQ29sb3JMaWdodCcgOiBiZ0NvbG9yID0gbmV3IENvbG9yICh0cnVlLCAgYy5zdWJ0eXBlKTsgYnJlYWtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3N0eWxlJyAgOiBzdHlsZXMuYWRkICAgIChjLnN1YnR5cGUpOyBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Vuc3R5bGUnOiBzdHlsZXMuZGVsZXRlIChjLnN1YnR5cGUpOyBicmVha1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0eWxlZFNwYW5cblxuICAgICAgICAgICAgfSkuZmlsdGVyIChzID0+IHMudGV4dC5sZW5ndGggPiAwKVxuICAgICAgICB9KVxuICAgIH1cblxuLyogIE91dHB1dHMgd2l0aCBDaHJvbWUgRGV2VG9vbHMtY29tcGF0aWJsZSBmb3JtYXQgICAgICovXG5cbiAgICBnZXQgYXNDaHJvbWVDb25zb2xlTG9nQXJndW1lbnRzICgpIHtcblxuICAgICAgICBjb25zdCBzcGFucyA9IHRoaXMucGFyc2VkLnNwYW5zXG5cbiAgICAgICAgcmV0dXJuIFtzcGFucy5tYXAgKHMgPT4gKCclYycgKyBzLnRleHQpKS5qb2luICgnJyksXG4gICAgICAgICAgICAgLi4uc3BhbnMubWFwIChzID0+IHMuY3NzKV1cbiAgICB9XG5cbiAgICBnZXQgYnJvd3NlckNvbnNvbGVBcmd1bWVudHMgKCkgLyogTEVHQUNZLCBERVBSRUNBVEVEICovIHsgcmV0dXJuIHRoaXMuYXNDaHJvbWVDb25zb2xlTG9nQXJndW1lbnRzIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIGluc3RhbGxzIFN0cmluZyBwcm90b3R5cGUgZXh0ZW5zaW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVxdWlyZSAoJ2Fuc2ljb2xvcicpLm5pY2VcbiAgICAgKiBjb25zb2xlLmxvZyAoJ2ZvbycuYnJpZ2h0LnJlZClcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG5pY2UgKCkge1xuXG4gICAgICAgIENvbG9ycy5uYW1lcy5mb3JFYWNoIChrID0+IHtcbiAgICAgICAgICAgIGlmICghKGsgaW4gU3RyaW5nLnByb3RvdHlwZSkpIHtcbiAgICAgICAgICAgICAgICBPLmRlZmluZVByb3BlcnR5IChTdHJpbmcucHJvdG90eXBlLCBrLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQ29sb3JzW2tdICh0aGlzKSB9IH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIENvbG9yc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIHBhcnNlcyBhIHN0cmluZyBjb250YWluaW5nIEFOU0kgZXNjYXBlIGNvZGVzXG4gICAgICogQHJldHVybiB7Q29sb3JzfSBwYXJzZWQgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlIChzKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3JzIChzKS5wYXJzZWRcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzYyBzdHJpcHMgQU5TSSBjb2RlcyBmcm9tIGEgc3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHMgYSBzdHJpbmcgY29udGFpbmluZyBBTlNJIGVzY2FwZSBjb2Rlcy5cbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IGNsZWFuIHN0cmluZy5cbiAgICAgKi9cbiAgICBzdGF0aWMgc3RyaXAgKHMpIHtcbiAgICAgICAgcmV0dXJuIHMucmVwbGFjZSAoL1tcXHUwMDFiXFx1MDA5Yl1bWygpIzs/XSooPzpbMC05XXsxLDR9KD86O1swLTldezAsNH0pKik/WzAtOUEtUFJaY2YtbnFyeT0+PF0vZywgJycpIC8vIGhvcGUgVjggY2FjaGVzIHRoZSByZWdleHBcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzYyBjaGVja3MgaWYgYSB2YWx1ZSBjb250YWlucyBBTlNJIGVzY2FwZSBjb2Rlc1xuICAgICAqIEBwYXJhbSB7YW55fSBzIHZhbHVlIHRvIGNoZWNrXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gaGFzIGNvZGVzXG4gICAgICovXG4gICAgIHN0YXRpYyBpc0VzY2FwZWQgKHMpIHtcbiAgICAgICAgcyA9IFN0cmluZyhzKVxuICAgICAgICByZXR1cm4gQ29sb3JzLnN0cmlwIChzKSAhPT0gcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHNwYW5zID0gWy4uLmFuc2kucGFyc2UgKCdcXHUwMDFiWzdtXFx1MDAxYls3bWZvb1xcdTAwMWJbN21iYXJcXHUwMDFiWzI3bScpXVxuICAgICAqL1xuICAgIFtTeW1ib2wuaXRlcmF0b3JdICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BhbnNbU3ltYm9sLml0ZXJhdG9yXSAoKVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIFRoaXMgYWxsb3dzIGFuIGFsdGVybmF0aXZlIGltcG9ydCBzdHlsZSwgc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS94cGwvYW5zaWNvbG9yL2lzc3Vlcy83I2lzc3VlY29tbWVudC01Nzg5MjM1NzhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGltcG9ydCB7IGFuc2ljb2xvciwgUGFyc2VkU3BhbiB9IGZyb20gJ2Fuc2ljb2xvcidcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IGFuc2ljb2xvciAoKSB7XG4gICAgICAgIHJldHVybiBDb2xvcnNcbiAgICB9XG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuYXNzaWduU3RyaW5nV3JhcHBpbmdBUEkgKENvbG9ycywgc3RyID0+IHN0cilcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5Db2xvcnMubmFtZXMgPSBzdHJpbmdXcmFwcGluZ01ldGhvZHMubWFwICgoW2tdKSA9PiBrKVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbkNvbG9ycy5yZ2IgPSB7XG5cbiAgICBibGFjazogICAgICAgIFswLCAgICAgMCwgICAwXSwgICAgXG4gICAgZGFya0dyYXk6ICAgICBbMTAwLCAxMDAsIDEwMF0sXG4gICAgbGlnaHRHcmF5OiAgICBbMjAwLCAyMDAsIDIwMF0sXG4gICAgd2hpdGU6ICAgICAgICBbMjU1LCAyNTUsIDI1NV0sXG5cbiAgICByZWQ6ICAgICAgICAgIFsyMDQsICAgMCwgICAwXSxcbiAgICBsaWdodFJlZDogICAgIFsyNTUsICA1MSwgICAwXSxcbiAgICBcbiAgICBncmVlbjogICAgICAgIFswLCAgIDIwNCwgICAwXSxcbiAgICBsaWdodEdyZWVuOiAgIFs1MSwgIDIwNCwgIDUxXSxcbiAgICBcbiAgICB5ZWxsb3c6ICAgICAgIFsyMDQsIDEwMiwgICAwXSxcbiAgICBsaWdodFllbGxvdzogIFsyNTUsIDE1MywgIDUxXSxcbiAgICBcbiAgICBibHVlOiAgICAgICAgIFswLCAgICAgMCwgMjU1XSxcbiAgICBsaWdodEJsdWU6ICAgIFsyNiwgIDE0MCwgMjU1XSxcbiAgICBcbiAgICBtYWdlbnRhOiAgICAgIFsyMDQsICAgMCwgMjA0XSxcbiAgICBsaWdodE1hZ2VudGE6IFsyNTUsICAgMCwgMjU1XSxcbiAgICBcbiAgICBjeWFuOiAgICAgICAgIFswLCAgIDE1MywgMjU1XSxcbiAgICBsaWdodEN5YW46ICAgIFswLCAgIDIwNCwgMjU1XSxcbn1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbG9yc1xuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbiJdfQ==
\ No newline at end of file
+//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FKTDtBQUtULFdBQWMsQ0FBQyxHQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsQ0FMTDs7QUFPVCxTQUFjLENBQUMsR0FBRCxFQUFRLENBQVIsRUFBYSxDQUFiLENBUEw7QUFRVCxjQUFjLENBQUMsR0FBRCxFQUFPLEVBQVAsRUFBYSxDQUFiLENBUkw7O0FBVVQsV0FBYyxDQUFDLENBQUQsRUFBTSxHQUFOLEVBQWEsQ0FBYixDQVZMO0FBV1QsZ0JBQWMsQ0FBQyxFQUFELEVBQU0sR0FBTixFQUFZLEVBQVosQ0FYTDs7QUFhVCxZQUFjLENBQUMsR0FBRCxFQUFNLEdBQU4sRUFBYSxDQUFiLENBYkw7QUFjVCxpQkFBYyxDQUFDLEdBQUQsRUFBTSxHQUFOLEVBQVksRUFBWixDQWRMOztBQWdCVCxVQUFjLENBQUMsQ0FBRCxFQUFRLENBQVIsRUFBVyxHQUFYLENBaEJMO0FBaUJULGVBQWMsQ0FBQyxFQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsQ0FqQkw7O0FBbUJULGFBQWMsQ0FBQyxHQUFELEVBQVEsQ0FBUixFQUFXLEdBQVgsQ0FuQkw7QUFvQlQsa0JBQWMsQ0FBQyxHQUFELEVBQVEsQ0FBUixFQUFXLEdBQVgsQ0FwQkw7O0FBc0JULFVBQWMsQ0FBQyxDQUFELEVBQU0sR0FBTixFQUFXLEdBQVgsQ0F0Qkw7QUF1QlQsZUFBYyxDQUFDLENBQUQsRUFBTSxHQUFOLEVBQVcsR0FBWDs7QUFHbEI7O0FBMUJhLENBQWIsQ0E0QkEsT0FBTyxPQUFQLEdBQWlCLE1BQWpCOztBQUVBIiwiZmlsZSI6ImFuc2ljb2xvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IE8gPSBPYmplY3RcblxuLyogIFNlZSBodHRwczovL21pc2MuZmxvZ2lzb2Z0LmNvbS9iYXNoL3RpcF9jb2xvcnNfYW5kX2Zvcm1hdHRpbmdcbiAgICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgY29sb3JDb2RlcyAgICAgID0gWyAgICdibGFjaycsICAgICAgJ3JlZCcsICAgICAgJ2dyZWVuJywgICAgICAneWVsbG93JywgICAgICAnYmx1ZScsICAgICAgJ21hZ2VudGEnLCAgICAgICdjeWFuJywgJ2xpZ2h0R3JheScsICcnLCAnZGVmYXVsdCddXG4gICAgLCBjb2xvckNvZGVzTGlnaHQgPSBbJ2RhcmtHcmF5JywgJ2xpZ2h0UmVkJywgJ2xpZ2h0R3JlZW4nLCAnbGlnaHRZZWxsb3cnLCAnbGlnaHRCbHVlJywgJ2xpZ2h0TWFnZW50YScsICdsaWdodEN5YW4nLCAnd2hpdGUnLCAnJ11cbiAgICBcbiAgICAsIHN0eWxlQ29kZXMgPSBbJycsICdicmlnaHQnLCAnZGltJywgJ2l0YWxpYycsICd1bmRlcmxpbmUnLCAnJywgJycsICdpbnZlcnNlJ11cblxuICAgICwgYXNCcmlnaHQgPSB7ICdyZWQnOiAgICAgICAnbGlnaHRSZWQnLFxuICAgICAgICAgICAgICAgICAgICdncmVlbic6ICAgICAnbGlnaHRHcmVlbicsXG4gICAgICAgICAgICAgICAgICAgJ3llbGxvdyc6ICAgICdsaWdodFllbGxvdycsXG4gICAgICAgICAgICAgICAgICAgJ2JsdWUnOiAgICAgICdsaWdodEJsdWUnLFxuICAgICAgICAgICAgICAgICAgICdtYWdlbnRhJzogICAnbGlnaHRNYWdlbnRhJyxcbiAgICAgICAgICAgICAgICAgICAnY3lhbic6ICAgICAgJ2xpZ2h0Q3lhbicsXG4gICAgICAgICAgICAgICAgICAgJ2JsYWNrJzogICAgICdkYXJrR3JheScsXG4gICAgICAgICAgICAgICAgICAgJ2xpZ2h0R3JheSc6ICd3aGl0ZScgfVxuICAgIFxuICAgICwgdHlwZXMgPSB7IDA6ICAnc3R5bGUnLFxuICAgICAgICAgICAgICAgIDI6ICAndW5zdHlsZScsXG4gICAgICAgICAgICAgICAgMzogICdjb2xvcicsXG4gICAgICAgICAgICAgICAgOTogICdjb2xvckxpZ2h0JyxcbiAgICAgICAgICAgICAgICA0OiAgJ2JnQ29sb3InLFxuICAgICAgICAgICAgICAgIDEwOiAnYmdDb2xvckxpZ2h0JyB9XG5cbiAgICAsIHN1YnR5cGVzID0geyAgY29sb3I6ICAgICAgICAgY29sb3JDb2RlcyxcbiAgICAgICAgICAgICAgICAgICAgY29sb3JMaWdodDogICAgY29sb3JDb2Rlc0xpZ2h0LFxuICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yOiAgICAgICBjb2xvckNvZGVzLFxuICAgICAgICAgICAgICAgICAgICBiZ0NvbG9yTGlnaHQ6ICBjb2xvckNvZGVzTGlnaHQsXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiAgICAgICAgIHN0eWxlQ29kZXMsXG4gICAgICAgICAgICAgICAgICAgIHVuc3R5bGU6ICAgICAgIHN0eWxlQ29kZXMgICAgfVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IGNsZWFuID0gb2JqID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGsgaW4gb2JqKSB7IGlmICghb2JqW2tdKSB7IGRlbGV0ZSBvYmpba10gfSB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIChPLmtleXMgKG9iaikubGVuZ3RoID09PSAwKSA/IHVuZGVmaW5lZCA6IG9ialxuICAgICAgICAgICAgfVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNsYXNzIENvbG9yIHtcblxuICAgIGNvbnN0cnVjdG9yIChiYWNrZ3JvdW5kLCBuYW1lLCBicmlnaHRuZXNzKSB7XG5cbiAgICAgICAgdGhpcy5iYWNrZ3JvdW5kID0gYmFja2dyb3VuZFxuICAgICAgICB0aGlzLm5hbWUgICAgICAgPSBuYW1lXG4gICAgICAgIHRoaXMuYnJpZ2h0bmVzcyA9IGJyaWdodG5lc3NcbiAgICB9XG5cbiAgICBnZXQgaW52ZXJzZSAoKSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IgKCF0aGlzLmJhY2tncm91bmQsIHRoaXMubmFtZSB8fCAodGhpcy5iYWNrZ3JvdW5kID8gJ2JsYWNrJyA6ICd3aGl0ZScpLCB0aGlzLmJyaWdodG5lc3MpXG4gICAgfVxuXG4gICAgZ2V0IGNsZWFuICgpIHtcbiAgICAgICAgcmV0dXJuIGNsZWFuICh7IG5hbWU6ICAgdGhpcy5uYW1lID09PSAnZGVmYXVsdCcgPyAnJyA6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyaWdodDogdGhpcy5icmlnaHRuZXNzID09PSBDb2RlLmJyaWdodCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpbTogICAgdGhpcy5icmlnaHRuZXNzID09PSBDb2RlLmRpbSB9KVxuICAgIH1cblxuICAgIGRlZmF1bHRCcmlnaHRuZXNzICh2YWx1ZSkge1xuXG4gICAgICAgIHJldHVybiBuZXcgQ29sb3IgKHRoaXMuYmFja2dyb3VuZCwgdGhpcy5uYW1lLCB0aGlzLmJyaWdodG5lc3MgfHwgdmFsdWUpXG4gICAgfVxuXG4gICAgY3NzIChpbnZlcnRlZCkge1xuXG4gICAgICAgIGNvbnN0IGNvbG9yID0gaW52ZXJ0ZWQgPyB0aGlzLmludmVyc2UgOiB0aGlzXG5cbiAgICAgICAgY29uc3QgcmdiTmFtZSA9ICgoY29sb3IuYnJpZ2h0bmVzcyA9PT0gQ29kZS5icmlnaHQpICYmIGFzQnJpZ2h0W2NvbG9yLm5hbWVdKSB8fCBjb2xvci5uYW1lXG5cbiAgICAgICAgY29uc3QgcHJvcCA9IChjb2xvci5iYWNrZ3JvdW5kID8gJ2JhY2tncm91bmQ6JyA6ICdjb2xvcjonKVxuICAgICAgICAgICAgLCByZ2IgID0gQ29sb3JzLnJnYltyZ2JOYW1lXVxuICAgICAgICAgICAgLCBhbHBoYSA9ICh0aGlzLmJyaWdodG5lc3MgPT09IENvZGUuZGltKSA/IDAuNSA6IDFcblxuICAgICAgICByZXR1cm4gcmdiXG4gICAgICAgICAgICAgICAgPyAocHJvcCArICdyZ2JhKCcgKyBbLi4ucmdiLCBhbHBoYV0uam9pbiAoJywnKSArICcpOycpXG4gICAgICAgICAgICAgICAgOiAoKCFjb2xvci5iYWNrZ3JvdW5kICYmIChhbHBoYSA8IDEpKSA/ICdjb2xvcjpyZ2JhKDAsMCwwLDAuNSk7JyA6ICcnKSAvLyBDaHJvbWUgZG9lcyBub3Qgc3VwcG9ydCAnb3BhY2l0eScgcHJvcGVydHkuLi5cbiAgICB9XG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY2xhc3MgQ29kZSB7XG5cbiAgICBjb25zdHJ1Y3RvciAobikge1xuICAgICAgICBpZiAobiAhPT0gdW5kZWZpbmVkKSB7IHRoaXMudmFsdWUgPSBOdW1iZXIgKG4pIH0gfVxuXG4gICAgZ2V0IHR5cGUgKCkge1xuICAgICAgIHJldHVybiB0eXBlc1tNYXRoLmZsb29yICh0aGlzLnZhbHVlIC8gMTApXSB9XG5cbiAgICBnZXQgc3VidHlwZSAoKSB7XG4gICAgICAgIHJldHVybiBzdWJ0eXBlc1t0aGlzLnR5cGVdW3RoaXMudmFsdWUgJSAxMF0gfVxuXG4gICAgZ2V0IHN0ciAoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy52YWx1ZSA/ICgnXFx1MDAxYlxcWycgKyB0aGlzLnZhbHVlICsgJ20nKSA6ICcnKSB9XG5cbiAgICBzdGF0aWMgc3RyICh4KSB7XG4gICAgICAgIHJldHVybiBuZXcgQ29kZSAoeCkuc3RyIH1cblxuICAgIGdldCBpc0JyaWdodG5lc3MgKCkge1xuICAgICAgICByZXR1cm4gKHRoaXMudmFsdWUgPT09IENvZGUubm9CcmlnaHRuZXNzKSB8fCAodGhpcy52YWx1ZSA9PT0gQ29kZS5icmlnaHQpIHx8ICh0aGlzLnZhbHVlID09PSBDb2RlLmRpbSkgfVxufVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbk8uYXNzaWduIChDb2RlLCB7XG5cbiAgICByZXNldDogICAgICAgIDAsXG4gICAgYnJpZ2h0OiAgICAgICAxLFxuICAgIGRpbTogICAgICAgICAgMixcbiAgICBpbnZlcnNlOiAgICAgIDcsXG4gICAgbm9CcmlnaHRuZXNzOiAyMixcbiAgICBub0l0YWxpYzogICAgIDIzLFxuICAgIG5vVW5kZXJsaW5lOiAgMjQsXG4gICAgbm9JbnZlcnNlOiAgICAyNyxcbiAgICBub0NvbG9yOiAgICAgIDM5LFxuICAgIG5vQmdDb2xvcjogICAgNDlcbn0pXG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuY29uc3QgcmVwbGFjZUFsbCA9IChzdHIsIGEsIGIpID0+IHN0ci5zcGxpdCAoYSkuam9pbiAoYilcblxuLyogIEFOU0kgYnJpZ2h0bmVzcyBjb2RlcyBkbyBub3Qgb3ZlcmxhcCwgZS5nLiBcInticmlnaHR9e2RpbX1mb29cIiB3aWxsIGJlIHJlbmRlcmVkIGJyaWdodCAobm90IGRpbSkuXG4gICAgU28gd2UgZml4IGl0IGJ5IGFkZGluZyBicmlnaHRuZXNzIGNhbmNlbGluZyBiZWZvcmUgZWFjaCBicmlnaHRuZXNzIGNvZGUsIHNvIHRoZSBmb3JtZXIgZXhhbXBsZSBnZXRzXG4gICAgY29udmVydGVkIHRvIFwie25vQnJpZ2h0bmVzc317YnJpZ2h0fXtub0JyaWdodG5lc3N9e2RpbX1mb29cIiDigJMgdGhpcyB3YXkgaXQgZ2V0cyByZW5kZXJlZCBhcyBleHBlY3RlZC5cbiAqL1xuXG5jb25zdCBkZW5vcm1hbGl6ZUJyaWdodG5lc3MgPSBzID0+IHMucmVwbGFjZSAoLyhcXHUwMDFiXFxbKDF8MiltKS9nLCAnXFx1MDAxYlsyMm0kMScpXG5jb25zdCBub3JtYWxpemVCcmlnaHRuZXNzID0gcyA9PiBzLnJlcGxhY2UgKC9cXHUwMDFiXFxbMjJtKFxcdTAwMWJcXFsoMXwyKW0pL2csICckMScpXG5cbmNvbnN0IHdyYXAgPSAoeCwgb3BlbkNvZGUsIGNsb3NlQ29kZSkgPT4ge1xuXG4gICAgY29uc3Qgb3BlbiAgPSBDb2RlLnN0ciAob3BlbkNvZGUpLFxuICAgICAgICAgIGNsb3NlID0gQ29kZS5zdHIgKGNsb3NlQ29kZSlcblxuICAgIHJldHVybiBTdHJpbmcgKHgpXG4gICAgICAgICAgICAgICAgLnNwbGl0ICgnXFxuJylcbiAgICAgICAgICAgICAgICAubWFwIChsaW5lID0+IGRlbm9ybWFsaXplQnJpZ2h0bmVzcyAob3BlbiArIHJlcGxhY2VBbGwgKG5vcm1hbGl6ZUJyaWdodG5lc3MgKGxpbmUpLCBjbG9zZSwgb3BlbikgKyBjbG9zZSkpXG4gICAgICAgICAgICAgICAgLmpvaW4gKCdcXG4nKVxufVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IGNhbWVsID0gKGEsIGIpID0+IGEgKyBiLmNoYXJBdCAoMCkudG9VcHBlckNhc2UgKCkgKyBiLnNsaWNlICgxKVxuXG5cbmNvbnN0IHN0cmluZ1dyYXBwaW5nTWV0aG9kcyA9ICgoKSA9PiBbXG5cbiAgICAgICAgLi4uY29sb3JDb2Rlcy5tYXAgKChrLCBpKSA9PiAhayA/IFtdIDogWyAvLyBjb2xvciBtZXRob2RzXG5cbiAgICAgICAgICAgIFtrLCAgICAgICAgICAgICAgIDMwICsgaSwgQ29kZS5ub0NvbG9yXSxcbiAgICAgICAgICAgIFtjYW1lbCAoJ2JnJywgayksIDQwICsgaSwgQ29kZS5ub0JnQ29sb3JdLFxuICAgICAgICBdKSxcblxuICAgICAgICAuLi5jb2xvckNvZGVzTGlnaHQubWFwICgoaywgaSkgPT4gIWsgPyBbXSA6IFsgLy8gbGlnaHQgY29sb3IgbWV0aG9kc1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBbaywgICAgICAgICAgICAgICAgOTAgKyBpLCBDb2RlLm5vQ29sb3JdLFxuICAgICAgICAgICAgW2NhbWVsICgnYmcnLCBrKSwgMTAwICsgaSwgQ29kZS5ub0JnQ29sb3JdLFxuICAgICAgICBdKSxcblxuICAgICAgICAvKiBUSElTIE9ORSBJUyBGT1IgQkFDS1dBUkRTIENPTVBBVElCSUxJVFkgV0lUSCBQUkVWSU9VUyBWRVJTSU9OUyAoaGFkICdicmlnaHQnIGluc3RlYWQgb2YgJ2xpZ2h0JyBmb3IgYmFja2dyb3VuZHMpXG4gICAgICAgICAqL1xuICAgICAgICAuLi5bJycsICdCcmlnaHRSZWQnLCAnQnJpZ2h0R3JlZW4nLCAnQnJpZ2h0WWVsbG93JywgJ0JyaWdodEJsdWUnLCAnQnJpZ2h0TWFnZW50YScsICdCcmlnaHRDeWFuJ10ubWFwICgoaywgaSkgPT4gIWsgPyBbXSA6IFtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgWydiZycgKyBrLCAxMDAgKyBpLCBDb2RlLm5vQmdDb2xvcl0sXG4gICAgICAgIF0pLFxuICAgICAgICBcbiAgICAgICAgLi4uc3R5bGVDb2Rlcy5tYXAgKChrLCBpKSA9PiAhayA/IFtdIDogWyAvLyBzdHlsZSBtZXRob2RzXG5cbiAgICAgICAgICAgIFtrLCBpLCAoKGsgPT09ICdicmlnaHQnKSB8fCAoayA9PT0gJ2RpbScpKSA/IENvZGUubm9CcmlnaHRuZXNzIDogKDIwICsgaSldXG4gICAgICAgIF0pXG4gICAgXVxuICAgIC5yZWR1Y2UgKChhLCBiKSA9PiBhLmNvbmNhdCAoYikpXG4gICAgXG4pICgpO1xuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmNvbnN0IGFzc2lnblN0cmluZ1dyYXBwaW5nQVBJID0gKHRhcmdldCwgd3JhcEJlZm9yZSA9IHRhcmdldCkgPT5cblxuICAgIHN0cmluZ1dyYXBwaW5nTWV0aG9kcy5yZWR1Y2UgKChtZW1vLCBbaywgb3BlbiwgY2xvc2VdKSA9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE8uZGVmaW5lUHJvcGVydHkgKG1lbW8sIGssIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0OiAoKSA9PiBhc3NpZ25TdHJpbmdXcmFwcGluZ0FQSSAoc3RyID0+IHdyYXBCZWZvcmUgKHdyYXAgKHN0ciwgb3BlbiwgY2xvc2UpKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSxcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldClcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5jb25zdCBURVhUICAgID0gMCxcbiAgICAgIEJSQUNLRVQgPSAxLFxuICAgICAgQ09ERSAgICA9IDJcblxuZnVuY3Rpb24gcmF3UGFyc2UgKHMpIHtcbiAgICBcbiAgICBsZXQgc3RhdGUgPSBURVhULCBidWZmZXIgPSAnJywgdGV4dCA9ICcnLCBjb2RlID0gJycsIGNvZGVzID0gW11cbiAgICBsZXQgc3BhbnMgPSBbXVxuXG4gICAgZm9yIChsZXQgaSA9IDAsIG4gPSBzLmxlbmd0aDsgaSA8IG47IGkrKykge1xuXG4gICAgICAgIGNvbnN0IGMgPSBzW2ldXG5cbiAgICAgICAgYnVmZmVyICs9IGNcblxuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgVEVYVDpcbiAgICAgICAgICAgICAgICBpZiAoYyA9PT0gJ1xcdTAwMWInKSB7IHN0YXRlID0gQlJBQ0tFVDsgYnVmZmVyID0gYzsgfVxuICAgICAgICAgICAgICAgIGVsc2UgICAgICAgICAgICAgICAgeyB0ZXh0ICs9IGMgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgQlJBQ0tFVDpcbiAgICAgICAgICAgICAgICBpZiAoYyA9PT0gJ1snKSB7IHN0YXRlID0gQ09ERTsgY29kZSA9ICcnOyBjb2RlcyA9IFtdIH1cbiAgICAgICAgICAgICAgICBlbHNlICAgICAgICAgICB7IHN0YXRlID0gVEVYVDsgdGV4dCArPSBidWZmZXIgfVxuICAgICAgICAgICAgICAgIGJyZWFrXG5cbiAgICAgICAgICAgIGNhc2UgQ09ERTpcblxuICAgICAgICAgICAgICAgIGlmICgoYyA+PSAnMCcpICYmIChjIDw9ICc5JykpIHsgY29kZSArPSBjIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChjID09PSAnOycpICAgICAgICAgICB7IGNvZGVzLnB1c2ggKG5ldyBDb2RlIChjb2RlKSk7IGNvZGUgPSAnJyB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoKGMgPT09ICdtJykpICAgICAgICAgeyBjb2RlID0gY29kZSB8fCAnMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGVzLnB1c2ggKG5ldyBDb2RlIChjb2RlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgY29kZSBvZiBjb2RlcykgeyBzcGFucy5wdXNoICh7IHRleHQsIGNvZGUgfSk7IHRleHQgPSAnJyB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZSA9IFRFWFRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSAgICAgICAgICAgICAgICAgICAgICAgICAgeyBzdGF0ZSA9IFRFWFQ7IHRleHQgKz0gYnVmZmVyIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlmIChzdGF0ZSAhPT0gVEVYVCkgdGV4dCArPSBidWZmZXJcblxuICAgIGlmICh0ZXh0KSBzcGFucy5wdXNoICh7IHRleHQsIGNvZGU6IG5ldyBDb2RlICgpIH0pXG5cbiAgICByZXR1cm4gc3BhbnNcbn1cblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYW4gQU5TSS1lc2NhcGVkIHN0cmluZy5cbiAqL1xuY2xhc3MgQ29sb3JzIHtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIGEgc3RyaW5nIGNvbnRhaW5pbmcgQU5TSSBlc2NhcGUgY29kZXMuXG4gICAgICovXG4gICAgY29uc3RydWN0b3IgKHMsIHByZXZpb3VzU3Bhbikge1xuXG4gICAgICAgIHRoaXMuc3BhbnMgPSBzID8gcmF3UGFyc2UgKHMpIDogW11cbiAgICAgICAgdGhpcy5wcmV2aW91c1NwYW4gPSBwcmV2aW91c1NwYW5cbiAgICB9XG5cbiAgICBnZXQgc3RyICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3BhbnMucmVkdWNlICgoc3RyLCBwKSA9PiBzdHIgKyBwLnRleHQgKyBwLmNvZGUuc3RyLCAnJylcbiAgICB9XG5cbiAgICBnZXQgcGFyc2VkICgpIHtcblxuICAgICAgICBsZXQgY29sb3IsIGJnQ29sb3IsIGJyaWdodG5lc3MsIHN0eWxlc1xuXG4gICAgICAgIGZ1bmN0aW9uIHJlc2V0ICgpIHtcblxuICAgICAgICAgICAgY29sb3IgICAgICA9IG5ldyBDb2xvciAoKSxcbiAgICAgICAgICAgIGJnQ29sb3IgICAgPSBuZXcgQ29sb3IgKHRydWUgLyogYmFja2dyb3VuZCAqLyksXG4gICAgICAgICAgICBicmlnaHRuZXNzID0gdW5kZWZpbmVkLFxuICAgICAgICAgICAgc3R5bGVzICAgICA9IG5ldyBTZXQgKClcbiAgICAgICAgfVxuXG4gICAgICAgIGlmKHRoaXMucHJldmlvdXNTcGFuICYmICF0aGlzLnByZXZpb3VzU3Bhbi5yZXNldCkge1xuXG4gICAgICAgICAgICBpZih0aGlzLnByZXZpb3VzU3Bhbi5jb2xvcikge1xuICAgICAgICAgICAgICAgIGxldCBicmlnaHRuZXNzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmKHRoaXMucHJldmlvdXNTcGFuLmNvbG9yLmJyaWdodCkgYnJpZ2h0bmVzcyA9IENvZGUuYnJpZ2h0O1xuICAgICAgICAgICAgICAgIGVsc2UgaWYodGhpcy5wcmV2aW91c1NwYW4uY29sb3IuZGltKSBicmlnaHRuZXNzID0gQ29kZS5kaW07XG4gICAgICAgICAgICAgICAgY29sb3IgPSBuZXcgQ29sb3IoZmFsc2UsIHRoaXMucHJldmlvdXNTcGFuLmNvbG9yLm5hbWUsIGJyaWdodG5lc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBjb2xvciA9IG5ldyBDb2xvcigpO1xuXG4gICAgICAgICAgICBpZih0aGlzLnByZXZpb3VzU3Bhbi5iZ0NvbG9yKSB7XG4gICAgICAgICAgICAgICAgbGV0IGJyaWdodG5lc3MgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgaWYodGhpcy5wcmV2aW91c1NwYW4uYmdDb2xvci5icmlnaHQpIGJyaWdodG5lc3MgPSBDb2RlLmJyaWdodDtcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHRoaXMucHJldmlvdXNTcGFuLmJnQ29sb3IuZGltKSBicmlnaHRuZXNzID0gQ29kZS5kaW07XG4gICAgICAgICAgICAgICAgYmdDb2xvciA9IG5ldyBDb2xvcih0cnVlLCB0aGlzLnByZXZpb3VzU3Bhbi5iZ0NvbG9yLm5hbWUsIGJyaWdodG5lc3MpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBiZ0NvbG9yID0gbmV3IENvbG9yKHRydWUpO1xuXG4gICAgICAgICAgICBpZih0aGlzLnByZXZpb3VzU3Bhbi5ib2xkKSBicmlnaHRuZXNzID0gQ29kZS5icmlnaHQ7XG5cbiAgICAgICAgICAgIHN0eWxlcyA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGlmKHRoaXMucHJldmlvdXNTcGFuLml0YWxpYykgc3R5bGVzLmFkZCgnaXRhbGljJyk7XG4gICAgICAgICAgICBpZih0aGlzLnByZXZpb3VzU3Bhbi51bmRlcmxpbmUpIHN0eWxlcy5hZGQoJ3VuZGVybGluZScpO1xuICAgICAgICAgICAgaWYodGhpcy5wcmV2aW91c1NwYW4uaW52ZXJ0ZWQpIHN0eWxlcy5hZGQoJ2ludmVyc2UnKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIE8uYXNzaWduIChuZXcgQ29sb3JzICgpLCB7XG5cbiAgICAgICAgICAgIHNwYW5zOiB0aGlzLnNwYW5zLm1hcCAoc3BhbiA9PiB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBjID0gc3Bhbi5jb2RlXG5cbiAgICAgICAgICAgICAgICBjb25zdCBpbnZlcnRlZCAgPSBzdHlsZXMuaGFzICgnaW52ZXJzZScpLFxuICAgICAgICAgICAgICAgICAgICAgIHVuZGVybGluZSA9IHN0eWxlcy5oYXMgKCd1bmRlcmxpbmUnKSAgID8gJ3RleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOycgOiAnJywgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgaXRhbGljICAgID0gc3R5bGVzLmhhcyAoJ2l0YWxpYycpICAgICAgPyAnZm9udC1zdHlsZTogaXRhbGljOycgOiAnJyxcbiAgICAgICAgICAgICAgICAgICAgICBib2xkICAgICAgPSBicmlnaHRuZXNzID09PSBDb2RlLmJyaWdodCA/ICdmb250LXdlaWdodDogYm9sZDsnIDogJydcblxuICAgICAgICAgICAgICAgIGNvbnN0IGZvcmVDb2xvciA9IGNvbG9yLmRlZmF1bHRCcmlnaHRuZXNzIChicmlnaHRuZXNzKVxuXG4gICAgICAgICAgICAgICAgY29uc3Qgc3R5bGVkU3BhbiA9IE8uYXNzaWduIChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGNzczogYm9sZCArIGl0YWxpYyArIHVuZGVybGluZSArIGZvcmVDb2xvci5jc3MgKGludmVydGVkKSArIGJnQ29sb3IuY3NzIChpbnZlcnRlZCkgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGVhbiAoeyBib2xkOiAhIWJvbGQsIGNvbG9yOiBmb3JlQ29sb3IuY2xlYW4sIGJnQ29sb3I6IGJnQ29sb3IuY2xlYW4sIGludmVydGVkIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4pXG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2Ygc3R5bGVzKSB7IHN0eWxlZFNwYW5ba10gPSB0cnVlIH1cblxuICAgICAgICAgICAgICAgIGlmIChjLmlzQnJpZ2h0bmVzcykge1xuXG4gICAgICAgICAgICAgICAgICAgIGJyaWdodG5lc3MgPSBjLnZhbHVlXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzcGFuLmNvZGUudmFsdWUgIT09IHVuZGVmaW5lZCkge1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzcGFuLmNvZGUudmFsdWUgPT09IENvZGUucmVzZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0ICgpXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZWRTcGFuLnJlc2V0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHNwYW4uY29kZS50eXBlKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb2xvcicgICAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdjb2xvckxpZ2h0JyAgIDogY29sb3IgICA9IG5ldyBDb2xvciAoZmFsc2UsIGMuc3VidHlwZSk7IGJyZWFrXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdiZ0NvbG9yJyAgICAgIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdiZ0NvbG9yTGlnaHQnIDogYmdDb2xvciA9IG5ldyBDb2xvciAodHJ1ZSwgIGMuc3VidHlwZSk7IGJyZWFrXG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdzdHlsZScgIDogc3R5bGVzLmFkZCAgICAoYy5zdWJ0eXBlKTsgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICd1bnN0eWxlJzogc3R5bGVzLmRlbGV0ZSAoYy5zdWJ0eXBlKTsgYnJlYWtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBzdHlsZWRTcGFuXG5cbiAgICAgICAgICAgIH0pLmZpbHRlciAocyA9PiBzLnRleHQubGVuZ3RoID4gMCB8fCBzLnJlc2V0KVxuICAgICAgICB9KVxuICAgIH1cblxuLyogIE91dHB1dHMgd2l0aCBDaHJvbWUgRGV2VG9vbHMtY29tcGF0aWJsZSBmb3JtYXQgICAgICovXG5cbiAgICBnZXQgYXNDaHJvbWVDb25zb2xlTG9nQXJndW1lbnRzICgpIHtcblxuICAgICAgICBjb25zdCBzcGFucyA9IHRoaXMucGFyc2VkLnNwYW5zXG5cbiAgICAgICAgcmV0dXJuIFtzcGFucy5tYXAgKHMgPT4gKCclYycgKyBzLnRleHQpKS5qb2luICgnJyksXG4gICAgICAgICAgICAgLi4uc3BhbnMubWFwIChzID0+IHMuY3NzKV1cbiAgICB9XG5cbiAgICBnZXQgYnJvd3NlckNvbnNvbGVBcmd1bWVudHMgKCkgLyogTEVHQUNZLCBERVBSRUNBVEVEICovIHsgcmV0dXJuIHRoaXMuYXNDaHJvbWVDb25zb2xlTG9nQXJndW1lbnRzIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIGluc3RhbGxzIFN0cmluZyBwcm90b3R5cGUgZXh0ZW5zaW9uc1xuICAgICAqIEBleGFtcGxlXG4gICAgICogcmVxdWlyZSAoJ2Fuc2ljb2xvcicpLm5pY2VcbiAgICAgKiBjb25zb2xlLmxvZyAoJ2ZvbycuYnJpZ2h0LnJlZClcbiAgICAgKi9cbiAgICBzdGF0aWMgZ2V0IG5pY2UgKCkge1xuXG4gICAgICAgIENvbG9ycy5uYW1lcy5mb3JFYWNoIChrID0+IHtcbiAgICAgICAgICAgIGlmICghKGsgaW4gU3RyaW5nLnByb3RvdHlwZSkpIHtcbiAgICAgICAgICAgICAgICBPLmRlZmluZVByb3BlcnR5IChTdHJpbmcucHJvdG90eXBlLCBrLCB7IGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gQ29sb3JzW2tdICh0aGlzKSB9IH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgcmV0dXJuIENvbG9yc1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBkZXNjIHBhcnNlcyBhIHN0cmluZyBjb250YWluaW5nIEFOU0kgZXNjYXBlIGNvZGVzXG4gICAgICogQHJldHVybiB7Q29sb3JzfSBwYXJzZWQgcmVwcmVzZW50YXRpb24uXG4gICAgICovXG4gICAgc3RhdGljIHBhcnNlIChzLCBwcmV2aW91c1NwYW4pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDb2xvcnMgKHMsIHByZXZpb3VzU3BhbikucGFyc2VkXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2Mgc3RyaXBzIEFOU0kgY29kZXMgZnJvbSBhIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBzIGEgc3RyaW5nIGNvbnRhaW5pbmcgQU5TSSBlc2NhcGUgY29kZXMuXG4gICAgICogQHJldHVybiB7c3RyaW5nfSBjbGVhbiBzdHJpbmcuXG4gICAgICovXG4gICAgc3RhdGljIHN0cmlwIChzKSB7XG4gICAgICAgIHJldHVybiBzLnJlcGxhY2UgKC9bXFx1MDAxYlxcdTAwOWJdW1soKSM7P10qKD86WzAtOV17MSw0fSg/OjtbMC05XXswLDR9KSopP1swLTlBLVBSWmNmLW5xcnk9PjxdL2csICcnKSAvLyBob3BlIFY4IGNhY2hlcyB0aGUgcmVnZXhwXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGRlc2MgY2hlY2tzIGlmIGEgdmFsdWUgY29udGFpbnMgQU5TSSBlc2NhcGUgY29kZXNcbiAgICAgKiBAcGFyYW0ge2FueX0gcyB2YWx1ZSB0byBjaGVja1xuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGhhcyBjb2Rlc1xuICAgICAqL1xuICAgICBzdGF0aWMgaXNFc2NhcGVkIChzKSB7XG4gICAgICAgIHMgPSBTdHJpbmcocylcbiAgICAgICAgcmV0dXJuIENvbG9ycy5zdHJpcCAocykgIT09IHM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzcGFucyA9IFsuLi5hbnNpLnBhcnNlICgnXFx1MDAxYls3bVxcdTAwMWJbN21mb29cXHUwMDFiWzdtYmFyXFx1MDAxYlsyN20nKV1cbiAgICAgKi9cbiAgICBbU3ltYm9sLml0ZXJhdG9yXSAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNwYW5zW1N5bWJvbC5pdGVyYXRvcl0gKClcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAZGVzYyBUaGlzIGFsbG93cyBhbiBhbHRlcm5hdGl2ZSBpbXBvcnQgc3R5bGUsIHNlZSBodHRwczovL2dpdGh1Yi5jb20veHBsL2Fuc2ljb2xvci9pc3N1ZXMvNyNpc3N1ZWNvbW1lbnQtNTc4OTIzNTc4XG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBpbXBvcnQgeyBhbnNpY29sb3IsIFBhcnNlZFNwYW4gfSBmcm9tICdhbnNpY29sb3InXG4gICAgICovXG4gICAgc3RhdGljIGdldCBhbnNpY29sb3IgKCkge1xuICAgICAgICByZXR1cm4gQ29sb3JzXG4gICAgfVxufVxuXG4vKiAgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tICovXG5cbmFzc2lnblN0cmluZ1dyYXBwaW5nQVBJIChDb2xvcnMsIHN0ciA9PiBzdHIpXG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxuQ29sb3JzLm5hbWVzID0gc3RyaW5nV3JhcHBpbmdNZXRob2RzLm1hcCAoKFtrXSkgPT4gaylcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG5Db2xvcnMucmdiID0ge1xuXG4gICAgYmxhY2s6ICAgICAgICBbMCwgICAgIDAsICAgMF0sICAgIFxuICAgIGRhcmtHcmF5OiAgICAgWzEwMCwgMTAwLCAxMDBdLFxuICAgIGxpZ2h0R3JheTogICAgWzIwMCwgMjAwLCAyMDBdLFxuICAgIHdoaXRlOiAgICAgICAgWzI1NSwgMjU1LCAyNTVdLFxuXG4gICAgcmVkOiAgICAgICAgICBbMjA0LCAgIDAsICAgMF0sXG4gICAgbGlnaHRSZWQ6ICAgICBbMjU1LCAgNTEsICAgMF0sXG4gICAgXG4gICAgZ3JlZW46ICAgICAgICBbMCwgICAyMDQsICAgMF0sXG4gICAgbGlnaHRHcmVlbjogICBbNTEsICAyMDQsICA1MV0sXG4gICAgXG4gICAgeWVsbG93OiAgICAgICBbMjA0LCAxMDIsICAgMF0sXG4gICAgbGlnaHRZZWxsb3c6ICBbMjU1LCAxNTMsICA1MV0sXG4gICAgXG4gICAgYmx1ZTogICAgICAgICBbMCwgICAgIDAsIDI1NV0sXG4gICAgbGlnaHRCbHVlOiAgICBbMjYsICAxNDAsIDI1NV0sXG4gICAgXG4gICAgbWFnZW50YTogICAgICBbMjA0LCAgIDAsIDIwNF0sXG4gICAgbGlnaHRNYWdlbnRhOiBbMjU1LCAgIDAsIDI1NV0sXG4gICAgXG4gICAgY3lhbjogICAgICAgICBbMCwgICAxNTMsIDI1NV0sXG4gICAgbGlnaHRDeWFuOiAgICBbMCwgICAyMDQsIDI1NV0sXG59XG5cbi8qICAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0gKi9cblxubW9kdWxlLmV4cG9ydHMgPSBDb2xvcnNcblxuLyogIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSAqL1xuXG4iXX0=
\ No newline at end of file
